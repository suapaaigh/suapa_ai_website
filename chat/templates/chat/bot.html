{% extends "chat/base.html" %}
{% load static %}

{% block content %}
    <div class="content-area">
        <div class="container-fluid p-md-0">

            <div class="inner-layout d-flex">
                <div class="left-bar p-4 overflow-y-auto">
                    <h6 class="mb-3">Chat History</h6>
                    <a href="#" class="btn bg-dark text-light w-100 rounded-pill" id="new-chat">New Chat</a>
                    <ul class="list-group gap-1 mt-3 li_animate list-unstyled" id="chat-history">
                        <li class="no-history">
                            <a href="#" class="list-group-item list-group-item-action p-3 rounded-3 border-0 active">
                                <p class="fs-12 mb-1 text-truncate text-center">No History</p>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="body-area d-flex align-items-start flex-column p-md-4 p-0 overflow-y-auto">
                    <ul class="list-unstyled message-list mb-0 pt-3 pt-md-0 w-100 overflow-y-auto" id="message-box">
                    </ul>
                    <div class="w-100 text-center" id="error-box"></div>
                    <div class="chat-input-container pt-3 pt-md-0 w-100 pb-2 pb-md-0">
                        <form id="ai-chat-form" enctype="multipart/form-data">
                            <div class="align-items-center border chat-input-wrapper d-flex gap-3 mb-3 p-lg-3 p-2 rounded-4">
                                <textarea class="form-control rounded-3 border-0" name="prompt" id="chat-prompt-input" placeholder="Type your message here..." rows="1"></textarea>
                                <div class="align-items-center chat-input-actions d-flex gap-1">
                                    <div id="image-preview-container" class="position-relative d-none">
                                        <img id="image-preview" src="" alt="Preview" style="max-width: 50px; max-height: 50px; border-radius: 8px;" accept="image/*">
                                        <span id="remove-image" style="position: absolute; top: -8px; right: -8px; background: red; color: white; border-radius: 50%; padding: 0px 6px; cursor: pointer;">Ã—</span>
                                    </div>
                                    <label class="btn p-2 d-md-block d-none file-attach-btn" title="Attach file" for="chat-file-input">
                                        <svg class="hover-svg" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M14.364 7.24264L7.86396 13.7426C7.46614 14.1405 7.24264 14.68 7.24264 15.2426C7.24264 15.8052 7.46614 16.3448 7.86396 16.7426C8.26179 17.1405 8.80135 17.364 9.36396 17.364C9.92657 17.364 10.4661 17.1405 10.864 16.7426L17.364 10.2426C18.1596 9.44699 18.6066 8.36786 18.6066 7.24264C18.6066 6.11742 18.1596 5.03829 17.364 4.24264C16.5683 3.44699 15.4892 3 14.364 3C13.2387 3 12.1596 3.44699 11.364 4.24264L4.86396 10.7426C3.67049 11.9361 3 13.5548 3 15.2426C3 16.9305 3.67049 18.5492 4.86396 19.7426C6.05744 20.9361 7.67613 21.6066 9.36396 21.6066C11.0518 21.6066 12.6705 20.9361 13.864 19.7426L20.364 13.2426" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></svg>
                                    </label>
                                    <input type="file" class="form-control" name="file-input" id="chat-file-input">
                                    <button class="btn p-2" title="Voice input" type="button" id="record">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z" />
                                            <path d="M5 10a7 7 0 0 0 14 0" />
                                            <path d="M8 21l8 0" />
                                            <path d="M12 17l0 4" />
                                        </svg>
                                    </button>
                                    <button type="submit" class="btn btn-primary ms-2" id="send-button">Send</button>
                                </div>
                            </div>
                        </form>
                        <ul
                            class="align-items-center chat-suggestions d-flex flex-wrap gap-1 li_animate list-unstyled mb-0">
                            <li><button class="btn btn-light rounded-pill border fs-12" onclick="setPrompt('Help me write PHP code')">Help me write PHP code</button></li>
                            <li><button class="btn btn-light rounded-pill border fs-12" onclick="setPrompt('Explain Figma Design basics')">Explain Figma Design basics</button></li>
                            <li><button class="btn btn-light rounded-pill border fs-12" onclick="setPrompt('Analyze this AI trend')">Analyze this AI trend</button></li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>
{% endblock content %}